<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethereum Raffles</title>
    <link rel="stylesheet" href="homestyle.css">
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.78/build/spline-viewer.js"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
</head>
<body>
    <nav class="NavigationBar">  
        <h1><a href="index.html">Ethereum Raffles</a></h1>
        <h2><a href="/rules.html">Rules</a></h2>
    </nav>
    <spline-viewer url="https://prod.spline.design/iyMCl4TangV0GsC2/scene.splinecode"></spline-viewer>
    <div id="right-pane">
        <main>
            <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.2/dist/confetti.browser.min.js"></script>

            <p id="lastWinner">Last Winner: <span id="lastWinnerAddress">None</span></p>
        </main>
    </div>
    <div id="left-pane">
        <main>
            <h1>Contract Address:</h1> <a href="https://sepolia.etherscan.io/address/0xf413B7Cb00D80A2cDBd2F4e9971fc1ef24FD743D "id="contractLink">0xf413B7Cb00D80A2cDBd2F4e9971fc1ef24FD743D</a>
            <button id="connectButton">Connect to MetaMask</button>
            <button id="buyTicketButton">Buy Tickets</button>
            <label for="ticketSlider">Number of Tickets: <span id="sliderValue">1</span></label>
            <input type="range" id="ticketSlider" min="1" max="90" value="1">

            <button id="sendTipsButton">Send Tips</button>
            <label for="tipAmountSlider">Tip Amount (ETH): <span id="tipAmountDisplay">0.00</span> ETH</label>
            <input type="range" id="tipAmountSlider" min="0.001" max="5" value="0.01" step="0.01">
            <p id="accountArea">Account will show here</p>
            <div id="totalAmount" class="total-amount">
                <span>Total Tickets Sold: </span>
                <p id="entryCount"> <span id="entryCount"></span></p>
            </div>
        </main>
    </div>
    
    <script>
        // Handling the ticket slider
        const ticketSlider = document.getElementById('ticketSlider');
        const ticketDisplay = document.getElementById('sliderValue');
        ticketSlider.oninput = function() {
            ticketDisplay.textContent = this.value;
        };

        // Handling the tip amount slider
        const tipSlider = document.getElementById('tipAmountSlider');
        const tipDisplay = document.getElementById('tipAmountDisplay');
        tipSlider.oninput = function() {
            tipDisplay.textContent = parseFloat(this.value).toFixed(2);
        };
    </script>
    <script src="script.js"></script>
</body>
</html>
